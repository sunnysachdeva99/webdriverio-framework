'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.BROKEN = exports.FAILED = exports.PASSED = undefined;

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

exports.getTestStatus = getTestStatus;
exports.isEmpty = isEmpty;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PASSED = exports.PASSED = 'passed';
var FAILED = exports.FAILED = 'failed';
var BROKEN = exports.BROKEN = 'broken';

function getTestStatus(test, config) {
    var status = FAILED;

    if (config.framework === 'jasmine') {
        return status;
    }

    if (test.err.name) {
        status = test.err.name === 'AssertionError' ? FAILED : BROKEN;
    } else {
        var stackTrace = test.err.stack.trim();
        status = stackTrace.startsWith('AssertionError') ? FAILED : BROKEN;
    }
    return status;
}

function isEmpty(object) {
    return !object || (0, _keys2.default)(object).length === 0;
}